<!DOCTYPE html>
<html lang="en" >
<head>
  {% load static %}
  <meta charset="UTF-8">
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content=""><link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.css'>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.16/css/dataTables.bootstrap4.css'>
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css'><link rel="stylesheet" href="{% static 'effects/supportstyles.css' %}">

</head>
<body>
  {% block content %}
<!-- partial:index.partial.html -->
<body class="fixed-nav sticky-footer bg-dark" id="page-top">
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" id="mainNav">


    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>

    </button>

    <div class="collapse navbar-collapse" id="navbarResponsive">

      <ul class="navbar-nav navbar-sidenav" id="exampleAccordion">

        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Dashboard">
          <a class="nav-link" href="{% url 'supportindex' %}">
            <i class="fa fa-fw fa-dashboard"></i>
            <span class="nav-link-text">Dashboard</span>
          </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Charts">
          <a class="nav-link" href="charts.html">
            <i class="fa fa-fw fa-area-chart"></i>
            <span class="nav-link-text">Status</span>
          </a>
        </li>
        <li class="nav-item"  data-toggle="tooltip" data-placement="right" title="Tables" hidden="true">
          <a class="nav-link" href="#MyTicketModal" data-toggle="modal" data-target="#MyTicketModal">
            <i class="fa fa-fw fa-pencil"></i>
            <span class="nav-link-text">New Ticket</span>
          </a>
        </li>

        
        <!-- <li class="nav-item dropdown" data-toggle="tooltip" data-placement="right" title="Components">
          <a class="nav-link" href="#systeminfoModal" data-toggle="modal" data-target="#systeminfoModal">
            <i class="fa fa-fw fa-book"></i>
            <span class="nav-link-text">Add System Info</span>
          </a>
       </li>
         -->     

         <li class="nav-item dropdown" data-toggle="tooltip" data-placement="right" title="Components">
          <a class="nav-link" href="" data-toggle="dropdown" data-target="">
            <i class="fa fa-fw fa-pencil"></i>
            <span class="nav-link-text">System</span>
          </a>
             <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#systeminfoModal" data-toggle="modal" data-target="#systeminfoModal">Add System</a></li>

              

              <li><a class="dropdown-item" href="#editsysinfoModal" data-toggle="modal" data-target="#editsysinfoModal">View System</a></li>
            </ul>
           
        </li>

          <li class="nav-item ">
          <a class="nav-link" href="#addorgModal" data-toggle="modal" data-target="#addorgModal">
            <i class="fa fa-fw fa-file"></i>
            <span class="nav-link-text">Add Organization</span>
          </a>

        </li>


         
          <li class="nav-item dropdown" data-toggle="tooltip" data-placement="right" title="Components">
          <a class="nav-link" href="#importfileModal" data-toggle="modal" data-target="#importfileModal">
            <i class="fa fa-fw fa-file"></i>
            <span class="nav-link-text">Import File</span>
          </a>

        </li>

        
        <li class="nav-item" data-toggle="tooltip" data-placement="right" title="Components" hidden="true">
          <a class="nav-link" href="">
            <i class="fa fa-fw fa-table"></i>
            <span class="nav-link-text">Tickets</span>
          </a>
          
        </li>
             
      
          </ul>
        </li>
       
      </ul>
      <ul class="navbar-nav sidenav-toggler">
        <li class="nav-item">
          <a class="nav-link text-center" id="sidenavToggler">
            <i class="fa fa-fw fa-angle-left"></i>
          </a>
        </li>
      </ul>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle mr-lg-2" id="messagesDropdown" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-fw fa-envelope"></i>
            <span class="d-lg-none">Messages
              <span class="badge badge-pill badge-primary">12 New</span>
            </span>
            <span class="indicator text-primary d-none d-lg-block">
              <i class="fa fa-fw fa-circle"></i>
            </span>
          </a>
          <div class="dropdown-menu" aria-labelledby="messagesDropdown">
            <h6 class="dropdown-header">New Messages:</h6>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <strong>David Miller</strong>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">Hey there! This new version of SB Admin is pretty awesome! These messages clip off when they reach the end of the box so they don't overflow over to the sides!</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <strong>Jane Smith</strong>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">I was wondering if you could meet for an appointment at 3:00 instead of 4:00. Thanks!</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <strong>John Doe</strong>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">I've sent the final files over to you for review. When you're able to sign off of them let me know and we can discuss distribution.</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item small" href="#">View all messages</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle mr-lg-2" id="alertsDropdown" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa fa-fw fa-bell"></i>
            <span class="d-lg-none">Alerts
              <span class="badge badge-pill badge-warning">6 New</span>
            </span>
            <span class="indicator text-warning d-none d-lg-block">
              <i class="fa fa-fw fa-circle"></i>
            </span>
          </a>
          <div class="dropdown-menu" aria-labelledby="alertsDropdown">
            <h6 class="dropdown-header">New Alerts:</h6>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <span class="text-success">
                <strong>
                  <i class="fa fa-long-arrow-up fa-fw"></i>Status Update</strong>
              </span>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">This is an automated server response message. All systems are online.</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <span class="text-danger">
                <strong>
                  <i class="fa fa-long-arrow-down fa-fw"></i>Status Update</strong>
              </span>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">This is an automated server response message. All systems are online.</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="#">
              <span class="text-success">
                <strong>
                  <i class="fa fa-long-arrow-up fa-fw"></i>Status Update</strong>
              </span>
              <span class="small float-right text-muted">11:21 AM</span>
              <div class="dropdown-message small">This is an automated server response message. All systems are online.</div>
            </a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item small" href="#">View all alerts</a>
          </div>
        </li>
        <li class="nav-item">
          <form class="form-inline my-2 my-lg-0 mr-lg-2">
            <div class="input-group">
              <input class="form-control" type="text" placeholder="Search for...">
              <span class="input-group-append">
                <button class="btn btn-primary" type="button">
                  <i class="fa fa-search"></i>
                </button>
              </span>
            </div>
          </form>

        </li>
        <li class="nav-item">
          <a class="nav-link" data-toggle="modal" data-target="#exampleModal" style="color: white;">
            {{request.user.username}}</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" data-toggle="modal" data-target="#exampleModal">
            <i class="fa fa-fw fa-sign-out"></i>Logout</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="content-wrapper">
    <div class="container-fluid">
      <!-- Breadcrumbs-->
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="#">Dashboard</a>
        </li>
        <li class="breadcrumb-item active">My Dashboard</li>
      </ol>
      <!-- Icon Cards-->
      <!-- <div class="row">
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-info o-hidden h-100">
            <div class="card-body iconstyle">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-ticket"></i>
              </div>
              {% if count < 2 %}
              <div class="mr-5">Ticket&nbsp;&nbsp;&nbsp;{{count}}</div>
              {% else %}
              <div class="mr-5">Tickets&nbsp;&nbsp;&nbsp;{{count}}</div>
              {% endif %}
            </div>
            <a class="card-footer text-white clearfix small z-1" href="">
              <span class="float-left iconstyle">View Details</span>
              <span class="float-right">
                <i class="fa fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-warning o-hidden h-100">
            <div class="card-body iconstyle">
              <div class="card-body-icon ">
                <i class="fa fa-fw fa-list-alt"></i>
              </div>
              {% if countticket < 2 %}
              <div class="mr-5">My Ticket&nbsp;&nbsp;&nbsp;{{countticket}}</div>
              {% else %}
              <div class="mr-5">My Tickets&nbsp;&nbsp;&nbsp;{{countticket}}</div>
              {% endif %}
            </div>
            <a class="card-footer text-white clearfix small z-1" href="">
              <span class="float-left iconstyle">View Details</span>
              <span class="float-right">
                <i class="fa fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-success o-hidden h-100">
            <div class="card-body iconstyle">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-folder-open"></i>
              </div>
               {% if opentickets < 2 %}
              <div class="mr-5">Open Ticket&nbsp;&nbsp;&nbsp;{{opentickets}}</div>
              {% else %}
              <div class="mr-5">Open Tickets&nbsp;&nbsp;&nbsp;{{opentickets}}</div>
              {% endif %}
            </div>
            <a class="card-footer text-white clearfix small z-1" href="">
              <span class="float-left iconstyle">View Details</span>
              <span class="float-right">
                <i class="fa fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
        <div class="col-xl-3 col-sm-6 mb-3">
          <div class="card text-white bg-danger o-hidden h-100">
            <div class="card-body iconstyle">
              <div class="card-body-icon">
                <i class="fa fa-fw fa-exclamation-triangle"></i>
              </div>
              {% if countunassigned < 2 %}
              <div class="mr-5">Unassigned &nbsp;&nbsp;{{countunassigned}}</div>
              {% else %}
              <div class="mr-5">Unassigned &nbsp;&nbsp;{{countunassigned}}</div>
              {% endif %}
            </div>
            <a class="card-footer text-white clearfix small z-1" href="">
              <span class="float-left iconstyle">View Details</span>
              <span class="float-right">
                <i class="fa fa-angle-right"></i>
              </span>
            </a>
          </div>
        </div>
      </div> -->
      <!-- Area Chart Example-->
      <!-- <div class="card mb-3">
        <div class="card-header">
          <i class="fa fa-area-chart"></i> Area Chart Example</div>
        <div class="card-body">
          <canvas id="myAreaChart" width="100%" height="30"></canvas>
        </div>
        <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
      </div>
      <div class="row">
        <div class="col-lg-8"> -->
          <!-- Example Bar Chart Card-->
          <!-- <div class="card mb-3">
            <div class="card-header">
              <i class="fa fa-bar-chart"></i> Bar Chart Example</div>
            <div class="card-body">
              <div class="row">
                <div class="col-sm-8 my-auto">
                  <canvas id="myBarChart" width="100" height="50"></canvas>
                </div>
                <div class="col-sm-4 text-center my-auto">
                  <div class="h4 mb-0 text-primary">$34,693</div>
                  <div class="small text-muted">YTD Revenue</div>
                  <hr>
                  <div class="h4 mb-0 text-warning">$18,474</div>
                  <div class="small text-muted">YTD Expenses</div>
                  <hr>
                  <div class="h4 mb-0 text-success">$16,219</div>
                  <div class="small text-muted">YTD Margin</div>
                </div>
              </div>
            </div>
            <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
          </div> -->
          <!-- Card Columns Example Social Feed-->
          <!-- <div class="mb-0 mt-4">
            <i class="fa fa-newspaper-o"></i> News Feed</div>
          <hr class="mt-2">
          <div class="card-columns"> -->
            <!-- Example Social Card-->
            <!-- <div class="card mb-3">
              <a href="#">
                <img class="card-img-top img-fluid w-100" src="https://unsplash.it/700/450?image=610" alt="">
              </a>
              <div class="card-body">
                <h6 class="card-title mb-1"><a href="#">David Miller</a></h6>
                <p class="card-text small">These waves are looking pretty good today!
                  <a href="#">#surfsup</a>
                </p>
              </div>
              <hr class="my-0">
              <div class="card-body py-2 small">
                <a class="mr-3 d-inline-block" href="#">
                  <i class="fa fa-fw fa-thumbs-up"></i>Like</a>
                <a class="mr-3 d-inline-block" href="#">
                  <i class="fa fa-fw fa-comment"></i>Comment</a>
                <a class="d-inline-block" href="#">
                  <i class="fa fa-fw fa-share"></i>Share</a>
              </div>
              <hr class="my-0">
              <div class="card-body small bg-faded">
                <div class="media">
                  <img class="d-flex mr-3" src="http://placehold.it/45x45" alt="">
                  <div class="media-body">
                    <h6 class="mt-0 mb-1"><a href="#">John Smith</a></h6>Very nice! I wish I was there! That looks amazing!
                    <ul class="list-inline mb-0">
                      <li class="list-inline-item">
                        <a href="#">Like</a>
                      </li>
                      <li class="list-inline-item">·</li>
                      <li class="list-inline-item">
                        <a href="#">Reply</a>
                      </li>
                    </ul>
                    <div class="media mt-3">
                      <a class="d-flex pr-3" href="#">
                        <img src="http://placehold.it/45x45" alt="">
                      </a>
                      <div class="media-body">
                        <h6 class="mt-0 mb-1"><a href="#">David Miller</a></h6>Next time for sure!
                        <ul class="list-inline mb-0">
                          <li class="list-inline-item">
                            <a href="#">Like</a>
                          </li>
                          <li class="list-inline-item">·</li>
                          <li class="list-inline-item">
                            <a href="#">Reply</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer small text-muted">Posted 32 mins ago</div>
            </div> -->
            <!-- Example Social Card-->
            <!-- <div class="card mb-3">
              <a href="#">
                <img class="card-img-top img-fluid w-100" src="https://unsplash.it/700/450?image=180" alt="">
              </a>
              <div class="card-body">
                <h6 class="card-title mb-1"><a href="#">John Smith</a></h6>
                <p class="card-text small">Another day at the office...
                  <a href="#">#workinghardorhardlyworking</a>
                </p>
              </div>
              <hr class="my-0">
              <div class="card-body py-2 small">
                <a class="mr-3 d-inline-block" href="#">
                  <i class="fa fa-fw fa-thumbs-up"></i>Like</a>
                <a class="mr-3 d-inline-block" href="#">
                  <i class="fa fa-fw fa-comment"></i>Comment</a>
                <a class="d-inline-block" href="#">
                  <i class="fa fa-fw fa-share"></i>Share</a>
              </div>
              <hr class="my-0">
              <div class="card-body small bg-faded">
                <div class="media">
                  <img class="d-flex mr-3" src="http://placehold.it/45x45" alt="">
                  <div class="media-body">
                    <h6 class="mt-0 mb-1"><a href="#">Jessy Lucas</a></h6>Where did you get that camera?! I want one!
                    <ul class="list-inline mb-0">
                      <li class="list-inline-item">
                        <a href="#">Like</a>
                      </li>
                      <li class="list-inline-item">·</li>
                      <li class="list-inline-item">
                        <a href="#">Reply</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="card-footer small text-muted">Posted 46 mins ago</div>
            </div> -->
            <!-- Example Social Card-->
            <!-- <div class="card mb-3">
              <a href="#">
                <img class="card-img-top img-fluid w-100" src="https://unsplash.it/700/450?image=281" alt="">
              </a>
              <div class="card-body">
                <h6 class="card-title mb-1"><a href="#">Jeffery Wellings</a></h6>
                <p class="card-text small">Nice shot from the skate park!
                  <a href="#">#kickflip</a>
                  <a href="#">#holdmybeer</a>
                  <a href="#">#igotthis</a>
                </p>
              </div>
              <hr class="my-0">
              <div class="card-body py-2 small">
                <a class="mr-3 d-inline-block" href="#">
                  <i class="fa fa-fw fa-thumbs-up"></i>Like</a>
                <a class="mr-3 d-inline-block" href="#">
                  <i class="fa fa-fw fa-comment"></i>Comment</a>
                <a class="d-inline-block" href="#">
                  <i class="fa fa-fw fa-share"></i>Share</a>
              </div>
              <div class="card-footer small text-muted">Posted 1 hr ago</div>
            </div> -->
            <!-- Example Social Card-->
            <!-- <div class="card mb-3">
              <a href="#">
                <img class="card-img-top img-fluid w-100" src="https://unsplash.it/700/450?image=185" alt="">
              </a>
              <div class="card-body">
                <h6 class="card-title mb-1"><a href="#">David Miller</a></h6>
                <p class="card-text small">It's hot, and I might be lost...
                  <a href="#">#desert</a>
                  <a href="#">#water</a>
                  <a href="#">#anyonehavesomewater</a>
                  <a href="#">#noreally</a>
                  <a href="#">#thirsty</a>
                  <a href="#">#dehydration</a>
                </p>
              </div>
              <hr class="my-0">
              <div class="card-body py-2 small">
                <a class="mr-3 d-inline-block" href="#">
                  <i class="fa fa-fw fa-thumbs-up"></i>Like</a>
                <a class="mr-3 d-inline-block" href="#">
                  <i class="fa fa-fw fa-comment"></i>Comment</a>
                <a class="d-inline-block" href="#">
                  <i class="fa fa-fw fa-share"></i>Share</a>
              </div>
              <hr class="my-0">
              <div class="card-body small bg-faded">
                <div class="media">
                  <img class="d-flex mr-3" src="http://placehold.it/45x45" alt="">
                  <div class="media-body">
                    <h6 class="mt-0 mb-1"><a href="#">John Smith</a></h6>The oasis is a mile that way, or is that just a mirage?
                    <ul class="list-inline mb-0">
                      <li class="list-inline-item">
                        <a href="#">Like</a>
                      </li>
                      <li class="list-inline-item">·</li>
                      <li class="list-inline-item">
                        <a href="#">Reply</a>
                      </li>
                    </ul>
                    <div class="media mt-3">
                      <a class="d-flex pr-3" href="#">
                        <img src="http://placehold.it/45x45" alt="">
                      </a>
                      <div class="media-body">
                        <h6 class="mt-0 mb-1"><a href="#">David Miller</a></h6>
                        <img class="img-fluid w-100 mb-1" src="https://unsplash.it/700/450?image=789" alt="">I'm saved, I found a cactus. How do I open this thing?
                        <ul class="list-inline mb-0">
                          <li class="list-inline-item">
                            <a href="#">Like</a>
                          </li>
                          <li class="list-inline-item">·</li>
                          <li class="list-inline-item">
                            <a href="#">Reply</a>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer small text-muted">Posted yesterday</div>
            </div>
          </div> -->
          <!-- /Card Columns-->
        <!-- </div>
        <div class="col-lg-4"> -->
          <!-- Example Pie Chart Card-->
          <!-- <div class="card mb-3">
            <div class="card-header">
              <i class="fa fa-pie-chart"></i> Pie Chart Example</div>
            <div class="card-body">
              <canvas id="myPieChart" width="100%" height="100"></canvas>
            </div>
            <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
          </div> -->
          <!-- Example Notifications Card-->
          <!-- <div class="card mb-3">
            <div class="card-header">
              <i class="fa fa-bell-o"></i> Feed Example</div>
            <div class="list-group list-group-flush small">
              <a class="list-group-item list-group-item-action" href="#">
                <div class="media">
                  <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/45x45" alt="">
                  <div class="media-body">
                    <strong>David Miller</strong>posted a new article to
                    <strong>David Miller Website</strong>.
                    <div class="text-muted smaller">Today at 5:43 PM - 5m ago</div>
                  </div>
                </div>
              </a>
              <a class="list-group-item list-group-item-action" href="#">
                <div class="media">
                  <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/45x45" alt="">
                  <div class="media-body">
                    <strong>Samantha King</strong>sent you a new message!
                    <div class="text-muted smaller">Today at 4:37 PM - 1hr ago</div>
                  </div>
                </div>
              </a>
              <a class="list-group-item list-group-item-action" href="#">
                <div class="media">
                  <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/45x45" alt="">
                  <div class="media-body">
                    <strong>Jeffery Wellings</strong>added a new photo to the album
                    <strong>Beach</strong>.
                    <div class="text-muted smaller">Today at 4:31 PM - 1hr ago</div>
                  </div>
                </div>
              </a>
              <a class="list-group-item list-group-item-action" href="#">
                <div class="media">
                  <img class="d-flex mr-3 rounded-circle" src="http://placehold.it/45x45" alt="">
                  <div class="media-body">
                    <i class="fa fa-code-fork"></i>
                    <strong>Monica Dennis</strong>forked the
                    <strong>startbootstrap-sb-admin</strong>repository on
                    <strong>GitHub</strong>.
                    <div class="text-muted smaller">Today at 3:54 PM - 2hrs ago</div>
                  </div>
                </div>
              </a>
              <a class="list-group-item list-group-item-action" href="#">View all activity...</a>
            </div>
            <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div>
          </div>
        </div>
      </div> -->
      <!-- Example DataTables Card-->
      <div class="card mb-3" >
        <div class="card-header">
          <i class="fa fa-table"></i> Data Table Example</div>
        <div class="card-body">
          <div class="table-responsive" >
            <div id="showme">
            <table class="table table-bordered" id="tab" width="100%" cellspacing="0" >

               <thead>
                <tr>
                  
                  <th>Organization</th>
                  <th>System Name</th>
                  <th>Department</th>
                  <th>HDD Space</th>
                  <th>RAM Size</th>
                  <th>Windows</th>
                  <th>softwares</th>
                  <th>Health Status</th>
                  <th>Power Status</th>
                  <th>Issues</th>
                  <th>Ongoing Issues</th>
                  <th>Action</th>
                </tr>
              </thead>
              
              <tbody>
                    
              </tbody>
            </table>
            </div>
          </div>
        </div>
        
      </div>
    </div>
    
    
    <!-- /.container-fluid-->
    <!-- /.content-wrapper-->
    <footer class="sticky-footer">
      <div class="container">
        <div class="text-center">
          
        </div>
      </div>
    </footer>
    
    <!-- Scroll to Top Button-->
    <a class="scroll-to-top rounded" href="#page-top">
      <i class="fa fa-angle-up"></i>
    </a>
</div>

<!-- organization modal -->

     <div class="modal fade" id="addorgModal" tabindex="-1" role="dialog" aria-labelledby="addorgModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="addorgModalLabel">Add Organization</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <form action="" id="addOrg">
            {% csrf_token %}      
          <div class="modal-body">
            
              
                       
                <div class="form-group row">
                  <label class="col-sm-5">Organization Name</label>
                  <div class="col-sm-7"><input type="text" name="organizationname" class="form-control"></div>
                </div>  

                 <div class="form-group row">
                  <label class="col-sm-5">Email</label>
                  <div class="col-sm-7"><input type="emial" name="organizationmail"  class="form-control"></div>
                </div>  

                 <div class="form-group row">
                  <label class="col-sm-5">Address</label>
                  <div class="col-sm-7"><textarea  type="text" name="organizationaddr"  class="form-control"></textarea></div>
                </div>  
    
                   <div class="form-group row">
                  <label class="col-sm-5">Contact Number</label>
                  <div class="col-sm-7"><input type="text" name="organizationphone"  class="form-control"></div>
                  </div>  
      
    
    

          </div>
          <div class="modal-footer">
            
            <button class="btn btn-primary" href="" type="submit">Add</button>
            <button class="btn btn-danger" type="button" data-dismiss="modal">Cancel</button>
          </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Logout Modal-->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body">Are you sure to logout from this site ?</div>
          <div class="modal-footer">
            
            <a class="btn btn-primary" href="">Logout</a>
            <button class="btn btn-danger" type="button" data-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>

     <!-- Import File Modal-->
    <div class="modal fade" id="importfileModal" tabindex="-1" role="dialog" aria-labelledby="importfileModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="importfileModalLabel">Choose the options</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body text-center" >
            
            <button id="sysinfofile" class="btn btn-default" >System Information</button>
            
            <button id="onsiteinfofile" class="btn btn-default"  style="margin-left: 10px;">Onsite Information</button><br><br>

            <div><button id="taskeventfile" class="btn btn-default" >TaskEvent Information</button></div>
            <!-- system information -->
            <div id="sysinfoid" style="display: none">
              {{order}}
              <form method="post" enctype="multipart/form-data" id="addsysfile" action="systemfile_upload/">
              {% csrf_token %}
              <div style="margin-top: 50px;px;">
              <label style="font-family: Palatino Linotype;">Upload a System Information file</label><br>
                <input type="file" name="file" class="form-control">
                <p>Only acepts CSV files</p>
                <button class="btn btn-info" type="submit">Upload System Info File</button>
                </div>
              </form>
            </div>

              <!-- Onsite information -->
             <div id="onsiteid" style="display: none">
              <form method="post" enctype="multipart/form-data" action="onsitefile_upload/">
              {% csrf_token %}
              <div style="margin-top: 50px;px;">
              <label style="font-family: Palatino Linotype;">Upload a Onsite Information file</label><br>
                <input type="file" name="file" class="form-control">
                <p>Only acepts CSV files</p>
                <button class="btn btn-info" type="submit">Upload Onsite Info File</button>
                </div>
              </form>
            </div>

            <!-- Task Event information -->
             <div id="eventid" style="display: none">
              <form method="post" enctype="multipart/form-data" action="onsitefile_upload/">
              {% csrf_token %}
              <div style="margin-top: 50px;px;">
              <label style="font-family: Palatino Linotype;">Upload a User Event Information file</label><br>
                <input type="file" name="file" class="form-control">
                <p>Only acepts CSV files</p>
                <button class="btn btn-info" type="submit">Upload TaskEvent File</button>
                </div>
              </form>
            </div>

          </div>
         
        </div>
      </div>
    </div>

<!-- System Information Form Modal-->
    <div class="modal fade" id="systeminfoModal" tabindex="-1" role="dialog" aria-labelledby="systeminfoModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="systeminfoModalLabel">System Information</h4>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>

              <form  action="" id="addsystem" >
               
                <div class="modal-body">
                  {% csrf_token %}
                     <div class="form-group">
                     <select class="form-control" id="orgnameid" name="orgname">
                      <option selected>Choose Organization</option>
                      {% if organizationobj %}
                        {% for organizationobjs in organizationobj %}
                        
                        <option value="{{organizationobjs.organizationname}}">{{organizationobjs.organizationname}}</option>
                        
                         {% endfor %}
                       {% endif %}
                      </select>

                    </div>

                    <div class="form-group">
                        <input type="text" name="sysname" placeholder="System name" class="form-control">

                    </div>

                    <div class="form-group">
                     <select class="form-control" id="department" name="department">
                        <option selected>Choose department</option>
                        <option value="Department1">Department1</option>
                        <option value="Department2">Department2</option>
                       
                      </select>

                    </div>

                    <div class="form-group">
                     <select class="form-control" id="hddspace" name="hddspace">
                        <option selected>Disk Space</option>
                        <option value="Normal">Normal</option>
                        <option value="Critical">Critical</option>
                       
                      </select>

                    </div>
                    <div class="form-group">
                        <select class="form-control" id="ramsize" name="ramsize">
                            <option selected>Select RAM size</option>
                       <option value="32 GB">0.75 GB</option>
                               <option value="32 GB">1 GB</option>
                               <option value="32 GB">2 GB</option>
                               <option value="32 GB">4 GB</option> 
                               <option value="32 GB">8 GB</option> 
                               <option value="32 GB">16 GB</option> 
                               <option value="32 GB">32 GB</option>
                                <option value="64 GB">64 GB</option>
                                <option value="128 GB">128 GB</option>
                                <option value="256 GB">256 GB</option>
                                <option value="512 GB">512 GB</option>
                                <option value="1024 GB">1024 GB</option>
                                <option value="2048 GB">2048 GB</option>
                                <option value="4096 GB">4096 GB</option>
                                <option value="8192 GB">8192 GB</option>
                                <option value="16384 GB">16384 GB</option>
                                <option value="32767 GB">32767 GB</option>

                      </select>

                    </div>

                    <div class="form-group">
                     <select class="form-control" id="winstatus" name="winstatus">
                        <option selected>Windows Update Status</option>
                        <option value="Updated">Updated</option>
                        <option value="Not Updated">Not Updated</option>
                       
                      </select>

                    </div>

                    <div class="form-group">
                        <input type="text" name="software" id="tagInp" placeholder="Software's" class="form-control">

                    </div>

                     <div class="form-group">
                            <output type="text" class="o-result-view c-main__result-view" hidden="true" name="softwares" id="output"></output>

                    </div>

                     <div class="form-group">
                     <select class="form-control" id="healthstatus" name="healthstatus">
                        <option selected>Health Status</option>
                        <option value="Healthy">Healthy</option>
                        <option value="Need Attention">Need Maintenance</option>
                        <option value="Urgent Need Attention">Urgent Need Maintenance</option>
                        <option value="No Maintenance">None</option>
                       
                      </select>

                    </div>

                    <div class="form-group">
                     <select  id="powerstatus" name="powerstatus" class="form-control">
                        <option selected>Power Status</option>
                        <option value="Power On">Power On</option>
                        <option value="Power Off">Power Off</option>
                      </select>

                    </div>

                    <div class="form-group">
                        <textarea type="text" name="issues" placeholder="Issues" class="form-control"></textarea>

                    </div>

                    <div class="form-group">
                        <textarea type="text" name="ongoingissues" placeholder="Ongoing Issues"class="form-control"></textarea>

                    </div>
                
                        
              
               


          </div>
          <div class="modal-footer">
            

            <button class="btn btn-primary" id="sendid" type="submit" style="color: white;display: none;" >Send</button>
            <button class="btn btn-info" type="button" id="ser-btn">Confirm</button>
            <button class="btn btn-danger" type="button" data-dismiss="modal">Cancel</button>
            
          </div>
          </form>
        </div>
      </div>
    </div>



<!-- Edit System Information Model -->
    <div class="modal fade" id="editsysinfoModal" tabindex="-1" role="dialog" aria-labelledby="editsysinfoModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="editsysinfoModalLabel">Choose Organzation you want to edit</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body" align="center">
             <form action="" id="editsystem">
              {% csrf_token %}
              {% if organizationobj %}
              {% for organizationobjs in organizationobj %}
              <input type="button" id="{{organizationobjs.organizationname}}" name="org" class="myclassname" value="{{organizationobjs.organizationname}}">
               {% endfor %}
               {% endif %}

             </form>
          </div>
          
        </div>
      </div>
    </div>

  <!-- Ticket Modal-->
    <div class="modal fade" id="MyTicketModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add New Ticket</h5>
            <button class="close" type="button" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          
            <form action="" id="addTicket">
              {% csrf_token %}
              <div class="modal-body">    
              
                 <div class="form-group">
                    
                    <div ><input type="text" name="creator" autocomplete="off" class="form-control"  value="{{request.user}}" hidden="true" disabled="true"></div>
                  </div>
              
                
                   <div class="form-group">
                    <label for="organization">Organization</label>
                  
                  
                    <select id="organization" class="form-control" name="organization">
                      {% for orgobjs in orgobj %}
                        <option value="{{orgobjs.organizationname}}">{{orgobjs.organizationname}}</option>
                      {% endfor %}
                    </select>
                  </div>
                  <div class="form-group">
                    <label>Contact</label>
                    <div ><input type="text" name="contact" autocomplete="off" class="form-control" maxlength="12"></div>
                  </div>

                   <div class="form-group">
                    <label>Summary</label>
                    <div ><input type="text" name="summary" autocomplete="off" class="form-control"></div>
                  </div>

                   <div class="form-group">
                    <label>Description</label>
                    <div ><textarea type="text" name="description" autocomplete="off" class="form-control"></textarea></div>
                  </div>

                  <div class="form-group">
                    <label>Assignee</label>
                    <div ><input type="text" name="assignee" autocomplete="off" class="form-control"></div>
                  </div>

                  <div class="form-group">
                    <label>Due Date</label>
                    <div class="row">
                    <div class="col-sm-6"><input type="text" name="duedate" autocomplete="off" class="form-control" placeholder="01/01/2020"></div>
                    <div class="col-sm-6" ><input type="text" name="time" autocomplete="off" class="form-control" placeholder="03:48 PM"></div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label>Time</label>
                    <div ><input type="text" name="time" autocomplete="off" class="form-control"></div>
                  </div>


                   <div class="form-group">
                    <label for="priority">Priority</label>
                   
                    <div><select id="priority" class="form-control" name="priority">
                        <option value="Medium">Medium</option>
                        <option value="High">High</option>
                        <option value="Low">Low</option>
                        
                        
                    </select></div>
                  </div>
              

                         <div class="form-group">
                    <label for="category">Category</label>
                   
                    <div><select id="category" class="form-control" name="category">
                        <option value="Unspecified">Unspecified</option>
                        <option value="Email">Email</option>
                        <option value="Maintenance">Maintenance</option>
                        <option value="Network">Network</option>
                        <option value="Printer">Printer</option>
                        <option value="Software">Software</option>
                        <option value="Other">Other</option>                        
                    </select></div>
                  </div>
              
                    <div class="form-group">
                    <label>Related</label>
                    <div ><input type="text" name="Related" autocomplete="off" class="form-control" placeholder="Add related devices"></div>
                  </div>



              </div>
             
          
          <div class="modal-footer">
            
            <button class="btn btn-info" type="submit">Submit</button>
            <button class="btn btn-danger" type="button" data-dismiss="modal">Cancel</button>
          </div>
          </form> 
        </div>
      </div>
    </div>



<!-- Modal -->
  <div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="updateModalLabel">Update System Information</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
          
        </div>
        <form id="updateSystem" action="">
        <div class="modal-body">


                        <form  action="" id="addsystem" >
               
                <div class="modal-body">
                  {% csrf_token %}
                    
                    <input class="form-control" id="formid" hidden="true"  name="form-Id"/>

                    <div class="form-group">
                      <label>System name</label>
                        <input type="text" name="form-sysname" id="formsysname" placeholder="System name" class="form-control">

                    </div>

                    <div class="form-group">
                      <label>Department</label>
                     <select class="form-control" id="formdepartment" name="form-department">
                        <option selected>Choose department</option>
                        <option value="Department1">Department1</option>
                        <option value="Department2">Department2</option>
                       
                      </select>

                    </div>

                    <div class="form-group">
                      <label>HDD Space</label>
                     <select class="form-control" id="formhddspace" name="form-hddspace">
                        <option selected>Disk Space</option>
                        <option value="Normal">Normal</option>
                        <option value="Critical">Critical</option>
                       
                      </select>

                    </div>
                    <div class="form-group">
                      <label>RAM Size</label>
                        <select class="form-control" id="formramsize" name="form-ramsize">
                            <option selected>Select RAM size</option>
                       <option value="32 GB">0.75 GB</option>
                               <option value="32 GB">1 GB</option>
                               <option value="32 GB">2 GB</option>
                               <option value="32 GB">4 GB</option> 
                               <option value="32 GB">8 GB</option> 
                               <option value="32 GB">16 GB</option> 
                               <option value="32 GB">32 GB</option>
                                <option value="64 GB">64 GB</option>
                                <option value="128 GB">128 GB</option>
                                <option value="256 GB">256 GB</option>
                                <option value="512 GB">512 GB</option>
                                <option value="1024 GB">1024 GB</option>
                                <option value="2048 GB">2048 GB</option>
                                <option value="4096 GB">4096 GB</option>
                                <option value="8192 GB">8192 GB</option>
                                <option value="16384 GB">16384 GB</option>
                                <option value="32767 GB">32767 GB</option>

                      </select>

                    </div>

                    <div class="form-group">
                      <label>Windows Status</label>
                     <select class="form-control" id="formwinstatus" name="form-winstatus">
                        <option selected>Windows Update Status</option>
                        <option value="Updated">Updated</option>
                        <option value="Not Updated">Not Updated</option>
                       
                      </select>

                    </div>

                    <div class="form-group">
                      <label>Software's</label>
                        <textarea type="text" name="form-softwares" id="formsoftware" placeholder="Software's" class="form-control"></textarea>

                    </div>

                     

                    

                     <div class="form-group">
                      <label>Health Status</label>
                     <select class="form-control" id="formhealthstatus" name="form-healthstatus">
                        <option selected>Health Status</option>
                        <option value="Healthy">Healthy</option>
                        <option value="Need Attention">Need Attention</option>
                        <option value="Urgent Need Attention">Urgent Need Attention</option>
                        <option value="No Maintenance">No Maintenance</option>
                       
                      </select>

                    </div>

                    <div class="form-group">
                      <label>Power Status</label>
                     <select  id="formpowerstatus" name="form-powerstatus" class="form-control">
                        <option selected>Power Status</option>
                        <option value="Power On">Power On</option>
                        <option value="Power Off">Power Off</option>
                      </select>

                    </div>

                    <div class="form-group">
                      <label>Issues</label>
                        <textarea type="text" id="formissues" name="form-issues" placeholder="Issues" class="form-control"></textarea>

                    </div>

                    <div class="form-group">
                      <label>Ongoing Issues</label>
                        <textarea type="text" id="formongoingissues" name="form-ongoingissues" placeholder="Ongoing Issues"class="form-control"></textarea>

                    </div>


        </div>
        <div class="modal-footer">
            <button type="submit" class="btn btn-primary" >Update</button>

            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>

        </div>

        </form>
      </div>
    </div>
  </div>

       
  

  </div>

  {% endblock %}

<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js'></script>

{% block javascript %}
      <script type="text/javascript">
        
        //sysinfo fileupload
          $(document).ready(function(){
            $("#sysinfofile").click(function(){      
            $("#sysinfoid").show();
            $("#onsiteid").hide();
            $("#eventid").hide();
            });
          });

            $(document).ready(function(){
            $("#onsiteinfofile").click(function(){      
            $("#onsiteid").show();
            $("#sysinfoid").hide();
            $("#eventid").hide();
            });
          });
          
          $(document).ready(function(){
            $("#taskeventfile").click(function(){      
            $("#eventid").show();
            $("#sysinfoid").hide();
            $("#onsiteid").hide();
            });
          });
            
                  
// ticket insert code
     $("#addTicket").submit(function(){
      
            
                              
            var creatorInput=$('input[name="creator"]').val().trim();
            var element=document.getElementById("organization");
            var organizationInput=element.options[element.selectedIndex].value;

            var contactInput=$('input[name="contact"]').val().trim();
            var summaryInput=$('input[name="summary"]').val().trim();
            var descriptionInput=$('textarea[name="description"]').val().trim();
            var assigneeInput=$('input[name="assignee"]').val().trim();
            var duedateInput=$('input[name="duedate"]').val().trim();
            var timeInput=$('input[name="time"]').val().trim();

            
            var element = document.getElementById("priority");
            var priorityInput = element.options[element.selectedIndex].value;

            var element = document.getElementById("category");
            var categoryInput = element.options[element.selectedIndex].value;

            var RelatedInput=$('input[name="Related"]').val().trim();

            
            if(organizationInput && contactInput && descriptionInput && summaryInput && RelatedInput)
            {
                $.ajax({

                
                          data:{
                                  'creator':creatorInput,
                                  'organization':organizationInput,
                                  'contact':contactInput,
                                  'summary':summaryInput,
                                  'description':descriptionInput,
                                  'assignee':assigneeInput,
                                  'duedate':duedateInput,
                                  'time':timeInput,
                                  'priority':priorityInput,
                                  'category':categoryInput,
                                  'Related':RelatedInput,

                          },
                          dataType:'json',
                          success:function(data)
                          {
                            alert('Ticket Created Successfully')
                            
                          }


                });


            }
            else
            {
              alert("Enter the missing fields");
            }

            $('#addTicket').trigger("reset");
        $('#MyTicketModal').modal('hide');
       return false;


          });



        $("#addOrg").submit(function(){
            
            var a="hi"

            var orgnameInput=$('input[name="organizationname"]').val().trim();
            var orgmailInput=$('input[name="organizationmail"]').val().trim();
            var orgaddrInput=$('textarea[name="organizationaddr"]').val().trim();
            var orgphoneInput=$('input[name="organizationphone"]').val().trim();
            
            if(orgnameInput && orgmailInput)
              
            {
              
                $.ajax({
                          url:'{% url "orgnameinsertion" %}',
                          
                          data:{
                                  
                                  'organizationname':orgnameInput,
                                  'organizationmail':orgmailInput,
                                  'organizationaddr':orgaddrInput,
                                  'organizationphone':orgphoneInput,
                          },
                          dataType:'json',
                          success:function(data)
                          {
                            alert('Organization added Successfully');

                            
                          }


                        });


            }
            else
            {
              alert("Enter the missing fields");
              $('#addorgModal').modal('show');
            }

         $('#addOrg').trigger("reset");
      $('#addorgModal').modal('hide');
      return false;

       });

//system info add

        $("#addsystem").submit(function(){

              alert("hi");
              var element=document.getElementById("orgnameid");
              var orgname=element.options[element.selectedIndex].value;
              
              var sysname=$('input[name="sysname"]').val().trim();
              
              var element=document.getElementById("department");
              var department=element.options[element.selectedIndex].value;

              var element=document.getElementById("hddspace");
              var diskspace=element.options[element.selectedIndex].value;
              
              var element=document.getElementById("ramsize");
              var ramsize=element.options[element.selectedIndex].value;

              var element=document.getElementById("winstatus");
              var winupdate=element.options[element.selectedIndex].value;
              
              var sw=$('output[name="softwares"]').val();
              
              var element=document.getElementById("healthstatus");
              var syshealth=element.options[element.selectedIndex].value;

              var element=document.getElementById("powerstatus");
              var powerstatus=element.options[element.selectedIndex].value;

              var issues=$('textarea[name="issues"]').val().trim();

              var ongoingissues=$('textarea[name="ongoingissues"]').val().trim();

              

              
              if(sysname=="" && orgname=="Choose Organization" && diskspace=="Disk Space" && ramsize=="Select RAM size" && winupdate=="Windows Update Status" && powerstatus=="Power Status" && syshealth=="Health Status")
              {
                alert("Please Enter missing fields");
                
              }
              else
              {
                  
                   $.ajax({


                          url:'{% url "systeminfoinsert" %}',
                          
                          data:{
                                  
                                  'orgname':orgname,
                                  'sysname':sysname,
                                  'department':department,
                                  'hddspace':diskspace,
                                  'ramsize':ramsize,
                                  'winstatus':winupdate,
                                  'softwares':sw,
                                  'healthstatus':syshealth,
                                  'powerstatus':powerstatus,
                                  'issues':issues,
                                  'ongoingissues':ongoingissues,
                                  
                          },
                          dataType:'json',
                          success:function(data)
                          {
                            if(data.userss)
                            {
                              console.log(data.userss)
                            }
                                alert("System Information Added Successfully");                
                                        
                          }


                        });
                

                  
              }
              
      $('form#addsystem').trigger("reset");
      $('#systeminfoModal').modal('hide');

      return false;

        });


//system info update

        $("#updateSystem").submit(function(){

              alert("hi");
             
              var sysid=$('input[name="form-Id"]').val().trim();
              var sysname=$('input[name="form-sysname"]').val().trim();
              
              var element=document.getElementById("formdepartment");
              var department=element.options[element.selectedIndex].value;

              var element=document.getElementById("formhddspace");
              var diskspace=element.options[element.selectedIndex].value;
              
              var element=document.getElementById("formramsize");
              var ramsize=element.options[element.selectedIndex].value;

              var element=document.getElementById("formwinstatus");
              var winupdate=element.options[element.selectedIndex].value;
              
              var softwares=$('textarea[name="form-softwares"]').val().trim();             
              
              var element=document.getElementById("formhealthstatus");
              var syshealth=element.options[element.selectedIndex].value;

              var element=document.getElementById("formpowerstatus");
              var powerstatus=element.options[element.selectedIndex].value;

              var issues=$('textarea[name="form-issues"]').val().trim();

              var ongoingissues=$('textarea[name="form-ongoingissues"]').val().trim();

              alert(sysid)

              
              if(sysname==""  && diskspace=="Disk Space" && ramsize=="Select RAM size" && winupdate=="Windows Update Status" && powerstatus=="Power Status" && syshealth=="Health Status")
              {
                alert("Please Enter missing fields");
                
              }
              else
              {
                  
                   $.ajax({


                          url:'{% url "systemupdates" %}',
                          
                          data:{
                                  
                                  'id':sysid,
                                  'sysname':sysname,
                                  'department':department,
                                  'hddspace':diskspace,
                                  'ramsize':ramsize,
                                  'winstatus':winupdate,
                                  'softwares':softwares,
                                  'healthstatus':syshealth,
                                  'powerstatus':powerstatus,
                                  'issues':issues,
                                  'ongoingissues':ongoingissues,
                                  
                          },
                          dataType:'json',
                          success:function(data)
                          {
                            if(data.orgviews)
                              {
                                updateToUserTable(data.orgviews);
                                alert("Updated Successfully");
                              }
                              console.log(data.orgviews)

                            
                          }


                        });

                  
              }
              
      $('#updateSystem').trigger("reset");
      $('#updateModal').modal('hide');
      return false;

        });




function editSystem(id) {
  if (id) {
    tr_id = "#orgviews-" + id;
    
    sysname = $(tr_id).find(".sysName").text();
    department = $(tr_id).find(".sysDepartment").text();
    hddspace = $(tr_id).find(".sysHddspace").text();
    ramsize = $(tr_id).find(".sysRamsize").text();
    winstatus = $(tr_id).find(".sysWinstatus").text();
    softwares = $(tr_id).find(".sysSoftwares").text();
    healthstatus = $(tr_id).find(".sysHealthstatus").text();
    powerstatus = $(tr_id).find(".sysPowerstatus").text();
    
    issues = $(tr_id).find(".sysIssues").text();
    ongoingissues = $(tr_id).find(".sysOngoingissues").text();
    $('#formid').val(id);
    $('#formsysname').val(sysname);
    $('#formdepartment').val(department);
    $('#formhddspace').val(hddspace);
    $('#formramsize').val(ramsize);
    $('#formwinstatus').val(winstatus);
    $('#formsoftware').val(softwares);
    $('#formhealthstatus').val(healthstatus);
    $('#formpowerstatus').val(powerstatus);
    $('#formissues').val(issues);
    $('#formongoingissues').val(ongoingissues);
  }
}
function updateToUserTable(orgviews){
    $("#tab #orgviews-" + orgviews.id).children(".userData").each(function() {
        var attr = $(this).attr("name");
        if (attr == "sysname") {
          $(this).text(orgviews.sysname);
        } else if (attr == "department") {
          $(this).text(orgviews.department);
        }
        else if (attr == "hddspace") {
          $(this).text(orgviews.hddspace);
        }
        else if (attr == "ramsize") {
          $(this).text(orgviews.ramsize);
        }
        else if (attr == "winstatus") {
          $(this).text(orgviews.winstatus);
        }
        else if (attr == "softwares") {
          $(this).text(orgviews.softwares);
        }
        else if (attr == "healthstatus") {
          $(this).text(orgviews.healthstatus);
        }
        else if (attr == "powerstatus") {
          $(this).text(orgviews.powerstatus);
        }
        else if (attr == "issues") {
          $(this).text(orgviews.issues);
        }
  
         else {
          $(this).text(orgviews.ongoingissues);
        }
      });
}

/*end of system update code*/

$(document).ready(function(){
  $('.myclassname').each(function(){
    $(this).click(function(){

      var id=$(this).attr('id');
      alert(id)
    
      $.ajax({
              
              url:'{% url "tableview" %}',
              data:{id},
              dataType:'json',
              success:function(data)
              {/*
                   $("#tab tbody").html(data.html_org_list); 
                   console.log(data.html_org_list);*/
                   var content = $('#showme').append(data.html_org_list).find('#tab');
                  $('#tab').html( content );
                
              }
              


      });
    

      $('#editsysinfoModal').modal('hide');
      return false;
      


    });


  });

});
/*
$(document).ready(function () {
  $('#tab').DataTable();
  $('#tab_length').addClass('bs-select');
});
*/

            ;(function(ns) { // ns - namesapce into which tagify function should be set (in our case it is window)
  "use strict";
  
 
  loadPolyfills();
  
  let container, tagifyInput, focusedTag;
  /// HTML element that will be used as tag
  const TAG_ELEMENT = "span";
  /// tag item's close button's content (may be HTML)
  const TAG_BUTTON_CONTENT = "x";
  
  const KEYCODE = {
    "BACKSPACE": ["Backspace", 8],
    "DELETE": ["Delete", 46]
  };
  
  const defaultOptions = {
    // * What user can type to complete tag. We're using KeyboardEvent.key & KeyboardEvent.keyCode codes.
    delimeters: ["Enter", ",", 13 /*Enter*/, 188 /*Comma in English*/, 222 /*comma in Hebrew*/, 44 /*comma in English/Hebrew in keypress event*/], 
    // * Delimeter for tag items value as string representation (is used in serialize function)
    inputDelimeter: ",",
    // * Class for tagify container (for styling)
    containerClass: "o-tagify",
    // * Class for tagify items (tags) (for styling)
    tagClass: "o-tagify__item",
    // * Class for tagify item (tag) when it's focused before being removed
    tagFocusClass: "is-focused", 
    // * Class for tagify tag close button (for styling)
    tagBtnClass: "o-tagify__btn",
    // * Placeholder text for tagify input
    tagPrompt: "add tags",
    // * Type for inner tagify input [by default will be taken from the original input]
    inputType: null,
    // * Array of attributes which should be copied from the original input
    copyAttributes: [],
    // * Whether tag should be added onblur
    addTagOnBlur: false
  };
  
  /// object which will be returned to the user for further usage
  const tagifyObj = {
    originalInput: null, // original input element,
    tagifyInput: null,
    serialize: serialize, // function which will serialize tagify tags into string value
    destroy: destroy, // function which will destroy current tagify container
  };
  
  
  /*======================
       Main Function
  ======================*/
  /*
   * Provides stylized input field that creates tags from inputted text.
   * @param {HTMLElement} inpElem - Original input element the tag feature should be applied on.
   * @param {Object} opts - Options for further control on the tagify plugin.
   *  @subparam {Array} delimeters - Delimeters that user can type to complete tag. Should be compatible with KeyboardEvent.key & KeyboardEvent.keyCode [default values are: Enter key and "," comma]
   *  @subparam {String} outputDelimeter - Delimeter which will be used on serialized value of the tags [default value is "," comma].
   *  @subparam {String} containerClass - Class for stylizing tagify container.
   *  @subparam {String} tagClass - Class for stylizing tag item.
   *  @subparam {String} tagFocusClass - Class for stylizing tag item when it's focused (before removal).
   *  @subparam {String} tagBtnClass - Class for stylizing tag item's button for deletion.
   *  @subparam {String} tagPrompt - Value to be included in tagify input as placeholder.
   *  @subparam {String} inputType - Type for tagify input [by default type is taking from originally provided input].
   *  @subparam {Array} copyAttributes - Array of attributes which should be copied from originally provided input (e.g. required, name, etc...) [default value is empty array, i.e. no attribute will be copied]
   *  @subparam {Boolean} addTagOnBlur - Determines whether tag should be created on blur (i.e. when tagify input is lose focus) [default value is FALSE].
   * @return {Object} tagifyObject - Object with originally provided input element,
   * new created input reference and utility functions (serialize, destroy)
  */
  function init(inpElem, opts) {   
    if(!inpElem || inpElem.tagName !== "INPUT") { throw new TypeError('Tagify must be set on INPUT element'); }
    /// Note: default options will be overridden
    opts = Object.assign(defaultOptions, opts);
    // if input type hasn't been defined explicitly via options we take it from received input element
    opts.inputType = opts.inputType || inpElem.type;
    
    createTagifyContainer(opts);
    
    addEventsToTagifyContainer(container, opts);
   
    /// copy, specified, attributes from the original input, if provided
    if(defaultOptions.copyAttributes && defaultOptions.copyAttributes.length > 0)
    copyOrgInputAttributes(inpElem);
    
    addTagifyContainerIntoDOM(container, inpElem);
    
    // save original input element
    tagifyObj.originalInput = inpElem;
        
    tagifyObj.tagifyInput = tagifyInput;
    
    /// hide original input
    inpElem.style.display = "none";  
    
    return tagifyObj; /// returns API object for further usage
  };
  
 /*
  * Same description as tagify method
  * @return {Promise} - Promise with tagifyObject - Object with originally provided input element,
  * new created input reference and utility functions (serialize, destroy)
  */
  function initAsync(inpElem, opts) {   
    if(!inpElem || inpElem.tagName !== "INPUT") { throw new TypeError('Tagify must be set on INPUT element'); }
    /// Note: default options will be overridden
    opts = Object.assign(defaultOptions, opts);
    // if input type hasn't been defined explicitly via options we take it from received input element
    opts.inputType = opts.inputType || inpElem.type;
    
    createTagifyContainer(opts);
    
    addEventsToTagifyContainer(container, opts);
   
    /// copy, specified, attributes from the original input, if provided
    if(defaultOptions.copyAttributes && defaultOptions.copyAttributes.length > 0)
    copyOrgInputAttributes(inpElem);
    
    addTagifyContainerIntoDOM(container, inpElem);
    
    // save original input element
    tagifyObj.originalInput = inpElem;
    
    tagifyObj.tagifyInput = tagifyInput;
    
    /// hide original input
    inpElem.style.display = "none";  
    
    return Promise.resolve(tagifyObj); /// returns API object for further usage
  };

  
   
  /*======================
        Event Listeners
    ======================*/
  /*
  * When close/delete button on tag item is clicked
  */
  function onCloseBtnClick(e) {
    const current = e.target;

    /// if it doesn't close button, do nothing
    if(!current.classList.contains(defaultOptions.tagBtnClass)) { return; }
    
    const buttonParent = current.parentElement;
    /// removes tag from the container
    container.removeChild(buttonParent);
  };
  
  /*
  * When one of the provided delimeters (for adding tag item) in inner tagify input element is clicked.
  */
  function onInnerInputKeyDown(e) {
    const pressedKey = e.key || e.keyCode;
    /// if pressed key is not the valid operation key (e.g. comma, enter, etc...) or inner input is empty, do nothing
    if(!isValidKey(defaultOptions.delimeters, pressedKey) || !tagifyInput.value.trim()) { return; }

      resetFocusedTag()
    
      insertTag();
    
    e.preventDefault(); /// prevents delimeter from staying in inner input as value
  };
   
  /*
  * When backpsace/delete button (for tag items deletion) is clicked (tagify input should be focused, otherwise event won't fire)
  */
  function onContainerKeyDown(e) {
    const current = e.target;

    /// if keyup didn't occur on inner input or inner input is not empty, do nothing
    if(current !== tagifyInput || tagifyInput.value.length > 0) { return; }
    
    const pressedKey = e.key || e.keyCode;
    const isItBackspace = isValidKey(KEYCODE.BACKSPACE, pressedKey);
    const isItDelete = isValidKey(KEYCODE.DELETE, pressedKey);
    if(!isItBackspace && !isItDelete) { return; }
    
    const tagifyLastTag = getLastTag();
    /// if there are no tags
    if(!tagifyLastTag)  { return; }
    
    
    if(isItBackspace && !focusedTag) { /*if backsapse was clicked and there is no focused tag item*/
      focusedTag = tagifyLastTag;
      focusedTag.classList.add(defaultOptions.tagFocusClass);
      return;
    } else if(isItDelete || focusedTag) { /*if delete key was clicked or there is tag item that's already been focused (backspace was clicked)*/
      container.removeChild(tagifyLastTag);
      focusedTag = null;
    };
    
  };
  
  

  /*
  * When inner input lose its focus (only applicable when addTagOnBlur option is TRUE)
  */
  function onInnerInputBlur(e) {
      /// if inner input is empty, do nothing
      if(!tagifyInput.value.trim()) { return; }
    
      resetFocusedTag();
    
      insertTag();

      e.preventDefault(); /// prevents delimeter from staying in inner input as value    
  };
  
  
  
  /*======================
      Utility Functions
    ======================*/
  
  /*
  * Creates tagify container, and inner tagify input.
  * Applies appropriate options.
  * @param {Object} opts - Appropriate options for tagify container and inner input.
  */
  function createTagifyContainer(opts) {
    // Container
    container = document.createElement("div");
    container.classList.add(opts.containerClass);
    
    /// We might add ARIA attributes here \\\
    
    // Input child
    tagifyInput = document.createElement("input");
    tagifyInput.type = opts.inputType;
    tagifyInput.setAttribute("placeholder", opts.tagPrompt);
    
    container.appendChild(tagifyInput);
  };
  
  /*
  * Creates tag item and applies appropriate options to it.
  * @param {Object} opts - Appropriate options for tag item.
  * @param {HTMLElement} tagText -Tag item text value.
  * @return {HTMLElement} Created tag item element.
  */
  function createTag(opts, tagText) {
    // Tag
    const tag = document.createElement(TAG_ELEMENT);
    tag.classList.add(opts.tagClass);
    tag.textContent = tagText;
    
    // Tag Close Button
    const tagButton = document.createElement("button");
    tagButton.innerHTML = TAG_BUTTON_CONTENT;
    tagButton.classList.add(opts.tagBtnClass);
   
    tag.appendChild(tagButton);
    
    return tag;
  };
  
  /*
  * Adds event listeners into tagify container and inner tagify input.
  * @param {HTMLElement} tagifyContainer - HTML Element for tagify container.
  * @param {Object} opts - Appropriate options for creating events.
  */
  function addEventsToTagifyContainer(tagifyContainer, opts) {
    
    // Container Events \\
    
    /// event when close button on tag is clicked
    container.addEventListener("click", onCloseBtnClick);  
    
     /// event for removing tag from tagify container (e.g. when backspace/delete is clicked)
    container.addEventListener("keydown", onContainerKeyDown, true); 
      
    
    // Inner Input Events \\
    
   // event when delimeter input is added into inner input for creating tag
   tagifyInput.addEventListener("keydown", onInnerInputKeyDown); 
    
    // event when inner input is lost focus for creating tag
    if(opts.addTagOnBlur) /// only if addTagOnBlur is true
    tagifyInput.addEventListener("blur", onInnerInputBlur);  
  };
  
  /*
  * Adds tagify container into DOM.
  * @param {HTMLElement} tagifyContainer - HTML Element for tagify container.
  * @param {HTMLElement} orgInp - Originally provided input element.
  */
  function addTagifyContainerIntoDOM(tagifyContainer, orgInp) {
    
    const nextSibling = orgInp.nextElementSibling;
    const orgInpParent = orgInp.parentElement;
    
    if(nextSibling) { /*if original input has sibling element after him*/
      orgInpParent.insertBefore(tagifyContainer, nextSibling);
    } else { /*if original input is the last child of its parent*/
      orgInpParent.appendChild(tagifyContainer);
    }
    
  };
  
  /*
  * Determines whether provided key code is located into key codes array.
  * @param {Array} keyCodes - Array of predefined, valid key codes to check against.
  * @param {String/Number} keyCode - Provided key code to check.
  * @return {Boolean} TRUE if provided key code has been found, otherwise returns FALSE
  */
  function isValidKey(keyCodes, keyCode) {
    let result = false;
    result = keyCodes.some(function(v) {
       return v === keyCode;
    });
    return result;
  };
  
  /*
  * Gets last tag item from tagify container.
  * @return {HTMLElement} Last tagify item, otherwise returns NULL.
  */
  function getLastTag() {
    const containerChildren = getTags();
    return containerChildren.length > 0 ? containerChildren[containerChildren.length - 1] : null;
  };
  
  /*
  * Gets tagify items from tagify container.
  * @return {Array} found tagify items, otherwise returns an empty array.
  */
  function getTags() {
    return Array.from(container.querySelectorAll("." + defaultOptions.tagClass));
  };
  
  /*
  * Inserts tag item into tagify container, empty inner tagify input element.
  */
  function insertTag() {    
      const tag = createTag(defaultOptions, tagifyInput.value.trim());
    
      container.insertBefore(tag, tagifyInput);

      // empty tagify inner input value
      tagifyInput.value = null;  
  };
   
  /*
  * Resets focusedTag variable, removes focus class from the last tag item element.
  */
  function resetFocusedTag() {
      if(focusedTag) {
        focusedTag.classList.remove(defaultOptions.tagFocusClass);
        focusedTag = null;
      };
  };
  
      
  /*
  * Copies specified attributes from the original input element.
  * @param {HTMLElement} orgInp - Originally provided input element.
  */
  function copyOrgInputAttributes(orgInp) {

    defaultOptions.copyAttributes.forEach(function(attrName) {
       const attrVal = orgInp.getAttribute(attrName);

       if(attrVal != null) { /*attribute value can be empty string, but if attribute doesn't defined it returns NULL*/
         tagifyInput.setAttribute(attrName, attrVal)
       }
    });
    
  };
  
  
  /*====================================
   API Functions (For Returning Object)
  ======================================*/
  
  /*
  * Converts tag items' value into string representation, divided by output delimeter from options.
  * @return {String} string representation of the tag items, otherwise returns NULL.
  */
  function serialize() {
    const tags = getTags(); /// get all created tags;
    let result = null;
    
    if(tags.length > 0) { /*if there is one tag, at least.*/
      result = tags.map(function(tag) {
        /// Note we get first ChildNode of the tag, so order of the elements in tag should be persisted (e.g. first is the TextNode and then delete button)
        return tag.firstChild.textContent; 
      }).join(defaultOptions.outputDelimeter);
    };
    
    return result;
  };
  
  /*
  * Removes tagify container from DOM, deletes tagify Object's properties. 
  * @param {Function} callback - Function which will be called after all actions have been done.
  *  @subparam {HTMElement} originalInput - Callback function will receive single element which is originally provided input element.
  */
  function destroy(callback) {
      container.parentElement.removeChild(container);
       /// get link to original input to set it as the first element in a callback function
       const originalInput = this.orgInput;
    
      for(var key in this) {
         if(this.hasOwnProperty(key)) 
            {  delete this[key]; }         
      }
    
    /// user callback will be called with original input as the first element
    if(typeof callback === "function") { callback(originalInput); }  
  };
  
  
 
  /*--------------------
        Pollyfills
    --------------------*/
  /*
  * Loads polyfills if needed.
  */
  function loadPolyfills() {
      
      /*Object assign polyfill (https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)*/
     if (typeof Object.assign != 'function') {
        Object.assign = function(target, varArgs) { // .length of function is 2
          'use strict';
          if (target == null) { // TypeError if undefined or null
            throw new TypeError('Cannot convert undefined or null to object');
          }

          var to = Object(target);

          for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];

            if (nextSource != null) { // Skip over if undefined or null
              for (var nextKey in nextSource) {
                // Avoid bugs when hasOwnProperty is shadowed
                if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                  to[nextKey] = nextSource[nextKey];
                }
              }
            }
          }
          return to;
        };
      };

      /*Mini polyfill for Array.from without optional arguments (mapFunction [second argument], thisArg [third argument]) (https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/from)*/
      if(typeof Array.from !== "function") {
        Array.from = function(arrLikeObj) {
          return Array.prototype.slice.call(arrLikeObj, 0);
        }
      };
    
  };

  
  // adding tagify function into provided namespace
  ns.tagify = {
    init: init,
    initAsync: initAsync
  };
  
})(window);


/*

Inspired by JQuery plugin "Tagify" by Alicia Liu

https://github.com/alicial/jQuery.Tagify

*/

/*

LINKS:

https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key

https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyCode

https://codepen.io/lsirivong/pen/xrFGn

*/


/*---- T E S T ----*/
;(function() {
  "use strict";
   
  const inp = document.getElementById("tagInp");
  const serializeBtn = document.getElementById("ser-btn");
  const output = document.getElementById("output");
  const destroyBtn = document.getElementById("destroy-btn");
  
  // /*Using Tagify Plugin (Synchronously)*/
  // const tagifyObj = window.tagify.init(inp, { // tagify options
  //   addTagOnBlur: true, // tag will be added on blur
  //   copyAttributes: ["required"], /// attributes that will be copied from the original input element
  // });
  
  /*Using Tagify Plugin (Asynchronously)*/
  
  let tagifyObject;
  
  window.tagify.initAsync(inp, { // tagify options
    addTagOnBlur: true, // tag will be added on blur
    copyAttributes: ["required"], /// attributes that will be copied from the original input element
  }).then(function (tagifyObj) {
    const tagifyInp = tagifyObj.tagifyInput;
    tagifyInp.focus();
    tagifyObject = tagifyObj;
  });
   
  
  /*Adding EventListeners*/
  serializeBtn.addEventListener("click", serializeBtnOnClick);
  destroyBtn.addEventListener("click", destroyBtnOnClick);
   
  /*Event Listeners*/
  function serializeBtnOnClick(e) { /// display tag items in string representation
   const p = document.createElement("p");
    
    p.textContent = tagifyObject.serialize();
    
    output.appendChild(p);   

    $("#sendid").show();
    $("#ser-btn").hide();
    
  };
   
  function destroyBtnOnClick(e) {   // destroy tagify element and set tag items data into original input
    tagifyObject.originalInput.value = tagifyObject.serialize();
    
    tagifyObject.destroy(function(orgInp) {
      orgInp.removeAttribute("style");
    });
     
  };
  
  
})();



           
    



      </script>

  {% endblock javascript %}
</body>
<!-- partial -->



<script src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.5/umd/popper.js'></script>
<script src='https://cdn.datatables.net/1.10.16/js/jquery.dataTables.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.16/js/dataTables.bootstrap4.js'></script><script  src="{% static 'js/supportscript.js' %}"></script>

</body>
</html>
